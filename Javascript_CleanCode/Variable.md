### 변수 선언 타입

자바스크립트에서 변수를 선언할 때 사용할 수 있는 키워드는 `var`, `let`, `const` 세 가지다. 이들 키워드는 우선순위가 `const` > `let` > `var` 순서로 나뉘는데, 그 이유를 이해하기 위해서는 `var`의 함수 스코프와 `let`, `const`의 블록 스코프에 대해 알아야 한다.

```
var name = 'Max';
var name = 'Jon';
var name = 'Amy';

console.log(name); // 'Amy'
```

`var` 키워드로 선언한 변수는 동일한 이름의 변수를 여러 번 선언해도 오류가 발생하지 않는다. 이 경우, 가장 마지막에 할당된 값이 최종적으로 변수의 값이 된다.

```
console.log(name); // undefined

var name = 'Max';
```

반대로, 변수를 선언하기 전에 `var` 키워드로 선언된 변수를 호출하면 `undefined`가 출력되는 것을 확인할 수 있다. 이처럼 `var` 키워드는 재할당과 재선언이 자유로워 코드가 길어질수록 관리가 어려워질 수 있다.

```
let name = 'Max';
let name = 'Jon'; // 오류 발생
let name = 'Amy';
```

하지만 `var` 키워드를 `let`으로 변경하면 변수의 재선언을 방지할 수 있다. `let` 키워드는 동일한 이름의 변수를 재선언할 경우 문법 오류를 발생시키므로, 컴파일 단계에서부터 이러한 재선언을 제한한다.

```
let name = 'Max';
name = 'Amy';
console.log(name); // 'Amy'

const age = 18;
age = 19; // 오류 발생
```

`const` 키워드도 재선언을 제한하지만, `let`과 `const`의 주요 차이는 변수값의 재할당에서 나타난다. `let`으로 선언한 변수는 자유롭게 값 재할당이 가능하지만, `const`로 선언한 변수는 초기값만 유지하며 다른 값으로 재할당할 경우 문법 오류가 발생한다.

---

### 함수 스코프 & 블록 스코프

변수를 선언할 때 전역변수를 되도록 사용하지 말라는 이야기가 있다. 전역변수는 전역 스코프에서 선언한 변수를 의미하며, 코드 어디서나 호출할 수 있다. 그러나 이로 인해 원치 않는 영역에서도 변수에 영향을 줄 수 있어 변수가 설계와 다른 용도로 사용될 위험이 있다.

```
var global = '전역';

if (global === '전역') {
  var global = '지역';

  console.log(global); // 지역
}

console.log(global); // 지역
```

같은 이름의 `global` 변수를 선언했지만, 하나는 전역에서, 다른 하나는 `if` 문 블록 내에서 선언되었다. 그러나 `if` 문 블록에서 선언한 값이 전역 변수의 값까지 변경한 것을 마지막 줄에서 확인할 수 있다. 이처럼 `var` 키워드는 함수 스코프를 가지므로, 함수로 나뉘지 않은 영역에서 모든 스코프에 영향을 미칠 수 있다.

```
let global = '전역';

if (global === '전역') {
  let global = '지역';

  console.log(global); // 지역
}

console.log(global); // 전역
```

하지만 `var` 키워드를 `let`으로 변경하면 결과가 달라지는 것을 볼 수 있다. `let`과 `const` 키워드는 블록 스코프를 가지기 때문에, `if` 문 블록 내에서 변수를 선언해도 전역에 있는 변수에 영향을 주지 않는다.

결론적으로, 변수를 선언할 때 `var` 키드 대신 `let` 또는 `const` 키워드를 사용하는 것이 코드를 더 안전하게 작성할 수 있음을 알 수 있다. 여기서 추가로 `let` 대신 `const`를 더 우선적으로 사용하는 것이 코드 일관성 측면에서 더 효과적이다.

```
const person = {
  name: 'Max',
  age: '19',
};

person.name = 'Kim';
person.age = '24';

console.log(person); // { name: 'Kim', age: '24' }
```

`const` 키워드는 변수의 값 재할당을 제한하지만, 배열이나 객체 타입을 사용할 경우 내부 값을 변경할 수 있다. 값의 재할당이 자유로운 `let`은 실수로 값이 원치 않게 변경될 수 있지만, `const`는 값이 의도치 않게 재할당되는 상황을 미리 방지해준다.
